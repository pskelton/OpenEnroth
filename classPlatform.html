<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>World of Might and Magic: Platform Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">World of Might and Magic<span id="projectnumber">&#160;39cc048</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classPlatform-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Platform Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;Platform.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Platform:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classPlatform.png" usemap="#Platform_map" alt=""/>
  <map id="Platform_map" name="Platform_map">
<area href="classSdlPlatform.html" alt="SdlPlatform" shape="rect" coords="0,56,76,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa9150653d3b9bc34117ba383972184ce"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlatform.html#aa9150653d3b9bc34117ba383972184ce">~Platform</a> ()=default</td></tr>
<tr class="separator:aa9150653d3b9bc34117ba383972184ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb02de0d9a4acba5de74709004ba63c7"><td class="memItemLeft" align="right" valign="top">virtual std::unique_ptr&lt; <a class="el" href="classPlatformWindow.html">PlatformWindow</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlatform.html#abb02de0d9a4acba5de74709004ba63c7">CreateWindow</a> ()=0</td></tr>
<tr class="separator:abb02de0d9a4acba5de74709004ba63c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d439a78686705b708313a7e69f2fd7e"><td class="memItemLeft" align="right" valign="top">virtual std::unique_ptr&lt; <a class="el" href="classPlatformEventLoop.html">PlatformEventLoop</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlatform.html#a2d439a78686705b708313a7e69f2fd7e">CreateEventLoop</a> ()=0</td></tr>
<tr class="separator:a2d439a78686705b708313a7e69f2fd7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3a8a054d2c065d802c32ff7bb936177"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlatform.html#ae3a8a054d2c065d802c32ff7bb936177">SetCursorShown</a> (bool cursorShown)=0</td></tr>
<tr class="separator:ae3a8a054d2c065d802c32ff7bb936177"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ba17fc63ef30ab7d2abbff4e2246934"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlatform.html#a3ba17fc63ef30ab7d2abbff4e2246934">IsCursorShown</a> () const =0</td></tr>
<tr class="separator:a3ba17fc63ef30ab7d2abbff4e2246934"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a337e6fa515f64de9fb07716a325bcb99"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; <a class="el" href="Rect_8h.html#a32073cc1967b01302be5d39e09079649">Recti</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlatform.html#a337e6fa515f64de9fb07716a325bcb99">DisplayGeometries</a> () const =0</td></tr>
<tr class="separator:a337e6fa515f64de9fb07716a325bcb99"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ab005f66d4471bba90cd444e5a98f8b07"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="classPlatform.html">Platform</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlatform.html#ab005f66d4471bba90cd444e5a98f8b07">CreateStandardPlatform</a> (<a class="el" href="classLog.html">Log</a> *log)</td></tr>
<tr class="separator:ab005f66d4471bba90cd444e5a98f8b07"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p ><a class="el" href="classPlatform.html">Platform</a> abstraction layer.</p>
<p ><a class="el" href="classPlatform.html">Platform</a> classes can be broadly divided into three categories:</p><ul>
<li>API handles. These classes don't hold any state and cannot be subclassed in user code.</li>
<li>Extension points. These classes can hold state and can be subclassed in user code.</li>
<li>Value types.</li>
</ul>
<p >API handles exposed by the platform are:</p><ul>
<li><code><a class="el" href="classPlatform.html">Platform</a></code>, which also works as a factory for other API handles.</li>
<li><code><a class="el" href="classPlatformWindow.html">PlatformWindow</a></code>, an API handle for a GUI window.</li>
<li><code><a class="el" href="classPlatformEventLoop.html">PlatformEventLoop</a></code>, an API handle for running an event loop.</li>
<li><code><a class="el" href="classPlatformOpenGLContext.html">PlatformOpenGLContext</a></code>, an API handle for accessing OpenGL API for a window.</li>
</ul>
<p >Then there are the following extension points:</p><ul>
<li><code><a class="el" href="classPlatformEventHandler.html">PlatformEventHandler</a></code>, which should be subclassed in user code to handle platform events. An instance is passed to <code><a class="el" href="classPlatformEventLoop.html">PlatformEventLoop</a></code> methods, so this is where the calls back into the user code happen.</li>
</ul>
<p >That's it, there is only one extension point. If you want fancy event handler chains, you can do this in user code.</p>
<p >And then there are value types:</p><ul>
<li>All kinds of enums for keyboard keys, mouse keys, and modifiers.</li>
<li><code><a class="el" href="classPlatformEvent.html">PlatformEvent</a></code> and subclasses for delivering events to <code><a class="el" href="classPlatformEventHandler.html">PlatformEventHandler</a></code>.</li>
</ul>
<p >All platform classes don't throw but write errors to log instead. See per-method docs for details on how errors are reported by each method.</p>
<p >Also platform declares its own <code>main</code> function, so you cannot declare <code>main</code> in your code. <a class="el" href="classPlatform.html">Platform</a> expects you to define <code>PlatformMain</code> instead.</p>
<p >Some guidelines on adding new functionality to platform classes:</p><ul>
<li>If something can be done at the next abstraction layer, then it <em>should</em> be done at the next abstraction layer. Don't clutter platform API.</li>
<li><a class="el" href="classPlatform.html">Platform</a> API should be reasonably minimal, and methods should be orthogonal. You can think of orthogonality in terms of information content, "is this method returning bits that can also be accessed through another method?" E.g. compare <code>Position</code> + <code>SetPosition</code> + <code>FramePosition</code> + <code>SetFramePosition</code> for a window class, vs <code>Position</code> + <code>SetPosition</code> + <code>FrameMargins</code>. The latter set of methods is orthogonal, the former is not.</li>
<li>The points above mean that platform API handles shouldn't expose non-virtual methods.</li>
<li><a class="el" href="classPlatform.html">Platform</a> API should be getter/setter symmetric as long as the underlying OS API is symmetric. E.g. in the example above there is no <code>SetFrameMargins</code> method because this is not how window frames work.</li>
<li><a class="el" href="classPlatform.html">Platform</a> API handles shouldn't hold state. Don't expose APIs that take ownership of user-allocated data, and don't cache values returned by the OS (if needed, caching should be implemented at the next abstraction layer). Again, you can think about this in terms of information content, "platform API handle doesn't expose any bits of state
  through its API that cannot be accessed through the underlying OS API". </li>
</ul>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa9150653d3b9bc34117ba383972184ce" name="aa9150653d3b9bc34117ba383972184ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9150653d3b9bc34117ba383972184ce">&#9670;&#160;</a></span>~Platform()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual Platform::~Platform </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2d439a78686705b708313a7e69f2fd7e" name="a2d439a78686705b708313a7e69f2fd7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d439a78686705b708313a7e69f2fd7e">&#9670;&#160;</a></span>CreateEventLoop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::unique_ptr&lt; <a class="el" href="classPlatformEventLoop.html">PlatformEventLoop</a> &gt; Platform::CreateEventLoop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Creates a new event loop.</p>
<dl class="section return"><dt>Returns</dt><dd>Newly created event loop, or <code>nullptr</code> on error. </dd></dl>

<p>Implemented in <a class="el" href="classSdlPlatform.html#af500fa184f30c4f9b228473cb94ee196">SdlPlatform</a>.</p>

</div>
</div>
<a id="ab005f66d4471bba90cd444e5a98f8b07" name="ab005f66d4471bba90cd444e5a98f8b07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab005f66d4471bba90cd444e5a98f8b07">&#9670;&#160;</a></span>CreateStandardPlatform()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="classPlatform.html">Platform</a> &gt; Platform::CreateStandardPlatform </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLog.html">Log</a> *&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Creates a standard platform.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log</td><td><a class="el" href="classLog.html">Log</a> stream to use. Must not be <code>nullptr</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A newly created <code><a class="el" href="classPlatform.html">Platform</a></code>. This method is guaranteed to succeed. </dd></dl>

</div>
</div>
<a id="abb02de0d9a4acba5de74709004ba63c7" name="abb02de0d9a4acba5de74709004ba63c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb02de0d9a4acba5de74709004ba63c7">&#9670;&#160;</a></span>CreateWindow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::unique_ptr&lt; <a class="el" href="classPlatformWindow.html">PlatformWindow</a> &gt; Platform::CreateWindow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Creates a new platform window.</p>
<dl class="section return"><dt>Returns</dt><dd>Newly created window, or <code>nullptr</code> on error. </dd></dl>

<p>Implemented in <a class="el" href="classSdlPlatform.html#abc26bab52c0e4e44740e66ff16f26528">SdlPlatform</a>.</p>

</div>
</div>
<a id="a337e6fa515f64de9fb07716a325bcb99" name="a337e6fa515f64de9fb07716a325bcb99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a337e6fa515f64de9fb07716a325bcb99">&#9670;&#160;</a></span>DisplayGeometries()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt; <a class="el" href="Rect_8h.html#a32073cc1967b01302be5d39e09079649">Recti</a> &gt; Platform::DisplayGeometries </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Geometries of all monitors on current system, or an empty vector in case of an error. </dd></dl>

<p>Implemented in <a class="el" href="classSdlPlatform.html#af4ac290a658cf536d241dad690a5bd51">SdlPlatform</a>.</p>

</div>
</div>
<a id="a3ba17fc63ef30ab7d2abbff4e2246934" name="a3ba17fc63ef30ab7d2abbff4e2246934"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ba17fc63ef30ab7d2abbff4e2246934">&#9670;&#160;</a></span>IsCursorShown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool Platform::IsCursorShown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Getter for <code>SetCursorShown</code>.</p>
<dl class="section return"><dt>Returns</dt><dd>Whether the system cursor is currently shown on top of windows created by this platform. </dd></dl>

<p>Implemented in <a class="el" href="classSdlPlatform.html#a6ebe71f9a8f0b22ce8f682876ad464e5">SdlPlatform</a>.</p>

</div>
</div>
<a id="ae3a8a054d2c065d802c32ff7bb936177" name="ae3a8a054d2c065d802c32ff7bb936177"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3a8a054d2c065d802c32ff7bb936177">&#9670;&#160;</a></span>SetCursorShown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Platform::SetCursorShown </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>cursorShown</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Shows / hides system cursor (on top of all windows created by this platform).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursorShown</td><td>Whether to show the system cursor. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classSdlPlatform.html#a7ff0d3e14171f40e6969aebfd32a0d58">SdlPlatform</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/Platform/<a class="el" href="Platform_8h.html">Platform.h</a></li>
<li>src/Platform/Sdl/<a class="el" href="SdlPlatform_8cpp.html">SdlPlatform.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
